# Kubernetes Deployment Creator Configuration
# Default settings for manifest generation

# Default namespace
default_namespace: default

# Resource defaults by workload type
resource_defaults:
  web_api:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi
    replicas: 3

  worker:
    requests:
      cpu: 250m
      memory: 512Mi
    limits:
      cpu: 1000m
      memory: 1Gi
    replicas: 2

  frontend:
    requests:
      cpu: 50m
      memory: 64Mi
    limits:
      cpu: 200m
      memory: 128Mi
    replicas: 2

  database:
    requests:
      cpu: 500m
      memory: 1Gi
    limits:
      cpu: 2000m
      memory: 4Gi
    replicas: 1

# Health probe defaults
probes:
  liveness:
    initialDelaySeconds: 30
    periodSeconds: 10
    timeoutSeconds: 5
    failureThreshold: 3
  readiness:
    initialDelaySeconds: 5
    periodSeconds: 5
    timeoutSeconds: 3
    failureThreshold: 3
  startup:
    periodSeconds: 10
    failureThreshold: 30

# Deployment strategy defaults
deployment_strategy:
  type: RollingUpdate
  rolling_update:
    maxSurge: 25%
    maxUnavailable: 25%

# HPA defaults
autoscaling:
  min_replicas: 2
  max_replicas: 10
  target_cpu_utilization: 70
  target_memory_utilization: 80
  scale_down_stabilization: 300

# Ingress defaults
ingress:
  class: nginx
  annotations:
    - cert-manager.io/cluster-issuer: letsencrypt-prod
    - nginx.ingress.kubernetes.io/ssl-redirect: "true"

# Security defaults
security:
  run_as_non_root: true
  read_only_root_filesystem: true
  allow_privilege_escalation: false
  drop_capabilities:
    - ALL

# Storage classes (cloud provider specific)
storage_classes:
  gke:
    standard: standard
    ssd: premium-rwo
  eks:
    standard: gp2
    ssd: gp3
  aks:
    standard: managed
    ssd: managed-premium

# Common labels
labels:
  managed_by: kubectl
  part_of: ""  # Set per deployment

# Pod disruption budget
pdb:
  min_available: 2
